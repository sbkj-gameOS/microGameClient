{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\module\\majiang\\js\\setting/assets\\module\\majiang\\js\\setting\\SettingClide.js"],"names":["cc","Class","extends","Component","properties","music","default","type","Sprite","musicSlider","Slider","sound","soundSlider","musicon","Node","musicoff","soundon","soundoff","danji","shuangji","Ycard","Bcard","Rcard","YBG","BBG","RBG","onLoad","find","bgonload","cardonload","beimi","audio","getState","audioEngine","AudioState","PLAYING","active","getSFXVolume","click","onSoundBtnClick","setSFXVolume","onMusiceBtnClick","pauseAll","sys","localStorage","setItem","playBGM","setBGMVolume","removeItem","dnajiClick","cardClick","event","parent","target","mj","getComponent","i","children","length","name","cardsetting","BGClick","bgsetting","getItem"],"mappings":"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","file":"SettingClide.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\module\\majiang\\js\\setting","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        music:{\r\n            default: null,\r\n            type: cc.Sprite\r\n        },\r\n        musicSlider:{\r\n            default: null,\r\n            type: cc.Slider\r\n        },\r\n        sound:{\r\n            default: null,\r\n            type: cc.Sprite\r\n        },\r\n        soundSlider:{\r\n            default: null,\r\n            type: cc.Slider\r\n        },\r\n        musicon:{\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        musicoff:{\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        soundon:{\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        soundoff:{\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        danji:cc.Node,\r\n        shuangji:cc.Node,\r\n\r\n        Ycard: cc.Node,\r\n        Bcard: cc.Node,\r\n        Rcard: cc.Node,\r\n        \r\n        YBG: cc.Node,\r\n        BBG: cc.Node,\r\n        RBG: cc.Node,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        // this.musicSlider.progress = cc.beimi.audio.getBGMVolume();\r\n        // this.music.fillRange  = cc.beimi.audio.getBGMVolume() ;\r\n\r\n        // this.soundSlider.progress = cc.beimi.audio.getSFXVolume();\r\n        // this.sound.fillRange =cc.beimi.audio.getSFXVolume();\r\n        if(cc.find('Canvas/global')){\r\n            this.bgonload();\r\n            this.cardonload();\r\n        }\r\n        if(cc.beimi.audio.getState() == cc.audioEngine.AudioState.PLAYING){\r\n            this.musicon.active = true ;\r\n            this.musicoff.active =  false;\r\n        }else{\r\n            this.musicon.active = false ;\r\n            this.musicoff.active =  true\r\n        }\r\n        if(cc.beimi.audio.getSFXVolume()>0){\r\n            this.soundon.active = true ;\r\n            this.soundoff.active =false;\r\n        }else{\r\n            this.soundon.active = false ;\r\n            this.soundoff.active =true;\r\n        }\r\n        if(cc.beimi.click ==1){\r\n            this.danji.active = true;\r\n            this.shuangji.active = false;\r\n        }else{\r\n            this.danji.active = false;\r\n            this.shuangji.active = true;\r\n        }\r\n\r\n    },\r\n    // onMusicSlide:function(slider){\r\n    //     if(cc.sys.localStorage.getItem('nobgm')=='true'){\r\n    //         cc.beimi.audio.playBGM(\"bgMain.mp3\");\r\n    //         cc.sys.localStorage.removeItem('nobgm');\r\n    //     }\r\n    //     this.music.fillRange  = slider.progress ;\r\n    //     cc.beimi.audio.setBGMVolume(slider.progress) ;\r\n    //     this.musicon.active = true ;\r\n    //     this.musicoff.active =  false;\r\n    // },\r\n    // onSoundSlide:function(slider){\r\n    //     this.sound.fillRange  = slider.progress ;\r\n    //     cc.beimi.audio.setSFXVolume(slider.progress) ;\r\n    //     this.soundon.active = true ;\r\n    //     this.soundoff.active =  false;\r\n    // },\r\n    onSoundBtnClick:function(){\r\n        //console.log(cc.beimi.audio.getSFXVolume());\r\n        if(cc.beimi.audio.getSFXVolume()>0){\r\n            this.soundon.active = false ;\r\n            this.soundoff.active =true;\r\n            cc.beimi.audio.setSFXVolume(0);\r\n        }else{\r\n            this.soundon.active =true;\r\n            this.soundoff.active =false;\r\n            cc.beimi.audio.setSFXVolume(1); \r\n        }\r\n    },\r\n    onMusiceBtnClick:function(){\r\n        if(cc.beimi.audio.getState() == cc.audioEngine.AudioState.PLAYING){\r\n            this.musicon.active = false ;\r\n            this.musicoff.active =  true;\r\n            cc.beimi.audio.pauseAll();\r\n            //cc.beimi.audio.setBGMVolume(0);\r\n            cc.sys.localStorage.setItem('nobgm','true');\r\n        }else{\r\n            this.musicon.active = true ;\r\n            this.musicoff.active =  false;\r\n            cc.beimi.audio.playBGM(\"bgFight.mp3\");\r\n            cc.beimi.audio.setBGMVolume(1);           \r\n            cc.sys.localStorage.removeItem('nobgm');\r\n        }\r\n    },\r\n    dnajiClick: function(){\r\n        if(cc.beimi.click == 1){\r\n            this.danji.active = false;\r\n            this.shuangji.active = true;\r\n            cc.beimi.click = 2 ;\r\n            cc.sys.localStorage.setItem('click',2);\r\n        }else{\r\n            this.danji.active = true;\r\n            this.shuangji.active = false;\r\n            cc.beimi.click = 1 ;\r\n            cc.sys.localStorage.setItem('click',1);\r\n            \r\n        }\r\n    },\r\n    cardClick(event){\r\n        let parent = event.target.parent.parent;\r\n        let mj = cc.find('Canvas').getComponent('MajiangDataBind');        \r\n        for(let i = 0 ; i < parent.children.length; i++ ){\r\n            parent.children[i].children[0].active = false;\r\n        }\r\n        event.target.parent.children[0].active = true;\r\n\r\n        cc.sys.localStorage.setItem('cardcolor',event.target.name);\r\n        if(cc.find('Canvas/global')){\r\n            mj.cardsetting();     \r\n        }   \r\n    },\r\n    BGClick(event){\r\n       \r\n        let parent = event.target.parent;\r\n        for(let i = 0 ; i< parent.children.length; i++){\r\n            parent.children[i].children[0].active = false;\r\n        }\r\n        event.target.children[0].active = true ; \r\n        cc.sys.localStorage.setItem('bgcolor',event.target.name);\r\n        if(cc.find('Canvas/global/main/bg/背景')){\r\n            let mj = cc.find('Canvas').getComponent('MajiangDataBind');      \r\n            mj.bgsetting(); \r\n        }\r\n    },\r\n    bgonload: function(){\r\n        if(cc.sys.localStorage.getItem('bgcolor')=='green'){\r\n            this.YBG.active = true ;\r\n            this.BBG.active = false;\r\n            this.RBG.active = false;                \r\n        }else if(cc.sys.localStorage.getItem('bgcolor')=='blue'){\r\n            this.YBG.active = false ;\r\n            this.BBG.active = true;\r\n            this.RBG.active = false; \r\n        }else if(cc.sys.localStorage.getItem('bgcolor')=='red'){\r\n            this.YBG.active = false ;\r\n            this.BBG.active = false;\r\n            this.RBG.active = true; \r\n        }\r\n    },\r\n    cardonload: function(){\r\n        if(cc.sys.localStorage.getItem('cardcolor')=='yellow'){\r\n            this.Ycard.active = true ;\r\n            this.Bcard.active = false;\r\n            this.Rcard.active = false;                \r\n        }else if(cc.sys.localStorage.getItem('cardcolor')=='green'){\r\n            this.Ycard.active = false ;\r\n            this.Bcard.active = true;\r\n            this.Rcard.active = false; \r\n        }else if(cc.sys.localStorage.getItem('cardcolor')=='red'){\r\n            this.Ycard.active = false ;\r\n            this.Bcard.active = false;\r\n            this.Rcard.active = true; \r\n        }\r\n    },\r\n});\r\n"]}