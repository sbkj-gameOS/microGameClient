{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\module\\login\\weChat\\js/assets\\module\\login\\weChat\\js\\init.js"],"names":["GameBase","gameModel","WJFCommon","require","cc","Class","extends","properties","loaddingPrefab","default","type","Prefab","alertPrefab","menuPrefab","onLoad","initMgr","he","sys","isNative","isMobile","canvas","node","getComponent","Canvas","fitHeight","fitWidth","director","preloadScene","weijifen","settingflag","http","localStorage","seckey","dialog","dialogtwo","paystatus","starttime","room","loadding","NodePool","put","instantiate","menu","click","getItem","bgcolor","cardcolor","Audios","audio","init","window","io","SocketIO","playBGM"],"mappings":"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","file":"init.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\module\\login\\weChat\\js","sourcesContent":["var GameBase = {};\r\n// GameBase.gameModel = null;\r\nGameBase.gameModel = 'ch';\r\nvar WJFCommon = require(\"WJFCommon\");\r\ncc.Class({\r\n    extends: WJFCommon,\r\n\r\n    properties: {    \r\n        loaddingPrefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        alertPrefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        menuPrefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        }\r\n    },\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.initMgr();        \r\n        let he = this;\r\n        if(!cc.sys.isNative && cc.sys.isMobile){\r\n            var canvas = this.node.getComponent(cc.Canvas);\r\n            canvas.fitHeight = true;\r\n            canvas.fitWidth = true;\r\n        }\r\n        //预加载majiang场景\r\n        cc.director.preloadScene('majiang');\r\n    },\r\n    initMgr:function(){\r\n        let he = this;\r\n        if(cc.weijifen == null){\r\n            cc.weijifen = {};\r\n            cc.weijifen.settingflag = false;\r\n            cc.weijifen.GameBase = GameBase ;            \r\n            cc.weijifen.http = require(\"HTTP\");\r\n            cc.weijifen.localStorage = require('IOUtils');\r\n            cc.weijifen.seckey = \"weijifen\";\r\n            cc.weijifen.dialog = null ;\r\n            cc.weijifen.dialogtwo = null;\r\n            cc.weijifen.paystatus = null ;\r\n            cc.weijifen.starttime ='';\r\n            cc.weijifen.room = null;\r\n            cc.weijifen.loadding = new cc.NodePool();\r\n            cc.weijifen.loadding.put(cc.instantiate(this.loaddingPrefab)); // 创建节点\r\n            cc.weijifen.dialog = new cc.NodePool();\r\n            cc.weijifen.dialog.put(cc.instantiate(this.alertPrefab)); // 创建节点\r\n            cc.weijifen.menu = new cc.NodePool();\r\n            cc.weijifen.menu.put(cc.instantiate(this.menuPrefab));//菜单框\r\n            //单击/双击\r\n            cc.weijifen.click = cc.sys.localStorage.getItem('click');\r\n            //游戏场景的背景\r\n            cc.weijifen.bgcolor = cc.sys.localStorage.getItem('bgcolor');\r\n            //唱戏场景的麻将牌花色\r\n            cc.weijifen.cardcolor = cc.sys.localStorage.getItem('cardcolor');\r\n            //声音的\r\n            var Audios = require(\"Audios\");\r\n            cc.weijifen.audio = new Audios();\r\n            cc.weijifen.audio.init();\r\n            \r\n            if(cc.sys.isNative){\r\n                window.io = SocketIO;\r\n            }else{\r\n                window.io = require(\"socket.io\");\r\n            }\r\n            //播放背景音乐\r\n            if(cc.sys.localStorage.getItem('nobgm') != 'true'){\r\n                cc.weijifen.audio.playBGM(\"bgFight.mp3\");\r\n            }\r\n        }\r\n    },\r\n});\r\n"]}