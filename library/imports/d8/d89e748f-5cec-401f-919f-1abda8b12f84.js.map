{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\..\\assets\\module\\majiang\\js\\gamePlay\\card/assets\\module\\majiang\\js\\gamePlay\\card\\HandCards.js"],"names":["cc","Class","extends","Component","properties","mj","Node","atlas","default","type","SpriteAtlas","weijifen0","cardvalue","target","csImageTop","onLoad","lastonecard","take","node","on","event","console","log","init","cvalue","pd","cardcolor","caishen","value","cardframe","cardcolors","parseInt","cardtype","mjtype","mjvalue","deskcard","csType1","csType2","csCardColors1","csCardColors2","csValue1","csValue2","weijifen","powerCard","length","caishenCards","getSpriteFrame","getComponent","Sprite","spriteFrame","cardNum","width","height","children","y","find","anim","Animation","play","sys","localStorage","getItem","Button","interactable","active","zIndex","enabled","color","Color","lastone","relastone","reinit","opacity","tingcolor"],"mappings":"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","file":"HandCards.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\assets\\module\\majiang\\js\\gamePlay\\card","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        mj: cc.Node,\r\n        atlas: {\r\n            default: null,\r\n            type: cc.SpriteAtlas\r\n        },\r\n        weijifen0: {\r\n            default: null,\r\n            type: cc.SpriteAtlas\r\n        },\r\n        cardvalue:{\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        target:{\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        csImageTop:{\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.lastonecard = false ;\r\n        this.take = false ;\r\n        this.node.on('mousedown', function ( event ) {\r\n            console.log('Hello!');\r\n        });\r\n        this.node.on('mousemove', function ( event ) {\r\n            console.log('Hello Mover!');\r\n        });\r\n    },\r\n    init:function(cvalue,pd){\r\n        this.cardcolor();        \r\n        this.caishen = false ; \r\n        this.take = false;\r\n        this.value = cvalue ;\r\n        let cardframe ;\r\n        let cardcolors = parseInt(this.value/4 ) ;\r\n        let cardtype  = parseInt(cardcolors / 9);\r\n\r\n        this.mjtype = cardtype ;\r\n        this.mjvalue = parseInt((this.value%36)/4 ) ;\r\n    \r\n        let deskcard ;\r\n        this.lastonecard = false;\r\n\r\n        let csType1,csType2;\r\n        let csCardColors1,csCardColors2;\r\n        let csValue1,csValue2;\r\n        if(cc.weijifen.powerCard){\r\n            csCardColors1 = parseInt(cc.weijifen.powerCard[0]/4 );\r\n            csType1 = parseInt(csCardColors1 / 9);//第一张财神牌类型 \r\n            csValue1 = (parseInt((cc.weijifen.powerCard[0]%36)/4)+1);\r\n            if(cc.weijifen.powerCard.length == 2){\r\n                csCardColors2 = parseInt(cc.weijifen.powerCard[1]/4 );\r\n                csType2 = parseInt(csCardColors2 / 9);//第二张财神牌类型\r\n                csValue2 = (parseInt((cc.weijifen.powerCard[1]%36)/4)+1);\r\n            }\r\n        }\r\n       \r\n        if(cardcolors < 0){\r\n            if(cardcolors==-7){\r\n                deskcard = 'M_wind_east';\r\n            } else if(cardcolors==-6){\r\n                deskcard = 'M_wind_south';\r\n            } else if(cardcolors==-5){\r\n                deskcard = 'M_wind_west';\r\n            } else if(cardcolors == -4){\r\n                deskcard = 'M_wind_north';\r\n            }else if(cardcolors == -3){\r\n                deskcard = 'M_red';\r\n            }else if(cardcolors == -2){\r\n                deskcard = 'M_green';\r\n            }else if(cardcolors == -1){\r\n                deskcard = 'M_white';\r\n            }\r\n            \r\n            //东南西北风 ， 中发白\r\n            if(cardcolors == csCardColors1 || (csCardColors2!=null &&cardcolors == csCardColors2)||(this.value>=-39&&this.value<=-36)){\r\n                this.caishenCards();\r\n            }\r\n        }else{\r\n            if(cardtype == 0){ //万\r\n                deskcard = \"M_character_\"+ (parseInt((this.value%36)/4)+1);\r\n            }else if(cardtype == 1){ //筒\r\n                deskcard = \"M_dot_\"+ (parseInt((this.value%36)/4)+1) ;\r\n            }else if(cardtype == 2){  //条\r\n                deskcard = \"M_bamboo_\"+ (parseInt((this.value%36)/4)+1) ;\r\n            }\r\n\r\n            if(cardtype == csType1 && (parseInt((this.value%36)/4)+1) == csValue1){\r\n                this.caishenCards();\r\n            }else if(cardtype == csType2 && (parseInt((this.value%36)/4)+1) == csValue2){\r\n                this.caishenCards();\r\n            }\r\n        }\r\n\r\n        if(deskcard == null){\r\n            if(cvalue==-38){\r\n                deskcard = 'M_autumn';//秋\r\n            } else if(cvalue==-35){\r\n                deskcard = 'M_bamboo';//竹\r\n            } else if(cvalue==-34){\r\n                deskcard = 'M_chrysanthemum';//菊\r\n            } else if(cvalue==-33){\r\n                deskcard = 'M_orchid';//兰\r\n            } else if(cvalue == -32){\r\n                deskcard = 'M_plum';//梅\r\n            }else if(cvalue == -36){\r\n                deskcard = 'M_spring';//春\r\n            }else if(cvalue == -37){\r\n                deskcard = 'M_summer';//夏\r\n            }else if(cvalue == -39){\r\n                deskcard = 'M_winter';//冬\r\n            }\r\n\r\n        }\r\n        // if(deskcard == \"suo2\"){\r\n        //     cardframe = this.weijifen0.getSpriteFrame('麻将牌-牌面-'+deskcard);\r\n        // }else{\r\n            cardframe = this.atlas.getSpriteFrame(deskcard);\r\n        // }\r\n        this.cardvalue.getComponent(cc.Sprite).spriteFrame = cardframe;\r\n       \r\n        if(cc.weijifen.cardNum >14 &&!pd){        \r\n            this.cardvalue.width = 65;\r\n            this.cardvalue.height = 100;\r\n            this.cardvalue.children[0].y = 42;\r\n            this.cardvalue.children[0].width = 70;\r\n            this.cardvalue.children[1].y = 42;\r\n            this.cardvalue.children[1].width = 70;\r\n            \r\n            this.target.width=63;\r\n            cc.find('Canvas/cards/handcards/current/currenthandcards').y =5;\r\n        }else if(!pd){\r\n            this.target.width = 73;\r\n        }\r\n        //this.cardvalue.color = new cc.Color(255, 255, 255);\r\n        if(pd == null){\r\n            var anim = this.getComponent(cc.Animation);\r\n            anim.play(\"majiang_current\");\r\n        }   \r\n        if(cc.sys.localStorage.getItem('alting')=='true'&& pd!= true){\r\n            this.mj.getComponent(cc.Button).interactable = false;\r\n        }else if(pd != true){\r\n            this.mj.getComponent(cc.Button).interactable = true;\r\n        }\r\n    },\r\n    caishenCards: function(){\r\n        this.csImageTop.active = true;\r\n        this.target.zIndex = -999+this.value;\r\n        this.target.children[0].getComponent(cc.Button).enabled = false;\r\n        this.cardvalue.color = new cc.Color(118, 118, 118);\r\n        this.caishen = true;\r\n    },\r\n    lastone:function(){\r\n        if(this.lastonecard == false){\r\n            this.lastonecard = true;\r\n            if(cc.weijifen.cardNum > 14){ \r\n                this.target.width=80;   \r\n            }else{\r\n                this.target.width=100;    \r\n            }\r\n            this.target.y = 0;\r\n            if(cc.sys.localStorage.getItem('alting')=='true'){\r\n                this.mj.getComponent(cc.Button).interactable = false;\r\n            }else{\r\n                this.mj.getComponent(cc.Button).interactable = true;\r\n            }\r\n        }\r\n       \r\n    },\r\n    relastone:function(){\r\n        if(this.lastonecard == true){\r\n            this.lastonecard = false;\r\n            if(cc.weijifen.cardNum > 14){ \r\n                this.cardvalue.width = 65;\r\n                this.cardvalue.height = 100;\r\n                this.target.width=63;\r\n            }else{\r\n                this.target.width = 73;\r\n            }\r\n            this.target.y=0;\r\n        }\r\n    },\r\n    reinit:function(){\r\n        this.relastone();     \r\n        this.lastonecard = false;\r\n        this.cardvalue.opacity = 255 ;\r\n        if(this.take){\r\n            this.target.y=0;\r\n            this.take = false ;\r\n        }\r\n    },\r\n    tingcolor:function(){\r\n        this.cardvalue.color = new cc.Color(118, 118, 118);\r\n    },\r\n    cardcolor:function(){\r\n        if(cc.sys.localStorage.getItem('cardcolor')=='yellow'){\r\n            this.cardvalue.children[0].active = false;\r\n            this.cardvalue.children[1].active = false;\r\n        }else if(cc.sys.localStorage.getItem('cardcolor')=='green'){\r\n            this.cardvalue.children[0].active = true;\r\n            this.cardvalue.children[1].active = false;\r\n        }else if(cc.sys.localStorage.getItem('cardcolor')=='red'){\r\n            this.cardvalue.children[0].active = false;\r\n            this.cardvalue.children[1].active = true;\r\n        }\r\n    },\r\n});\r\n"]}