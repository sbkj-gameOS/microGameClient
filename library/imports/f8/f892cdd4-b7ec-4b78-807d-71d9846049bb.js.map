{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\module\\majiang\\js\\gameOver/assets\\module\\majiang\\js\\gameOver\\overGameClick.js"],"names":["WJFCommon","require","cc","Class","extends","properties","button","Node","labei","txt","Label","button2","nosure","labei2","onLoad","active","time","init","overGameClick","sys","localStorage","setItem","node","dispatchEvent","Event","EventCustom","goonGameClick","REFUSE","oper","setUserData","mj","find","getComponent","dialog","alert","put","dontLeaveGameClick","destroy","leaveGameClick","disconnect","weijifen","GameBase","gameModel","scene","daojishi","string","console","log"],"mappings":"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","file":"overGameClick.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\module\\majiang\\js\\gameOver","sourcesContent":["var WJFCommon = require(\"WJFCommon\");\r\ncc.Class({\r\n    extends: WJFCommon,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        button:cc.Node,\r\n        labei: cc.Node,\r\n        txt:cc.Label,\r\n        button2:cc.Node,\r\n        nosure:cc.Label,\r\n        labei2:cc.Node\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.button.active = true;\r\n        this.labei.active = false;\r\n        this.time;\r\n    },\r\n    // 解散游戏按钮  弹出弹窗\r\n    // overGamenotice:function(){\r\n    //     var mj = cc.find('Canvas').getComponent('MajiangDataBind');\r\n    //     if(mj.alert.size()>0){\r\n    //         var alert = mj.alert.get();\r\n    //         alert.parent = cc.find(\"Canvas\");\r\n    //         let node = alert.getComponent('overGameClick') ;\r\n    //         node.txt.string = '是否发起解散' ;\r\n            \r\n    //     }\r\n    // },\r\n   \r\n    //离开游戏  不结束游戏\r\n    // leaveGameClick:function(){\r\n\r\n    //     this.scene(\"gameMain\" , this);\r\n    //     this.node.dispatchEvent( new cc.Event.EventCustom('leaveGame', true) );\r\n    // },\r\n    //点击 确认结束游戏\r\n    init: function(){\r\n        this.button.active = true;\r\n        this.labei.active =false;\r\n        this.labei2.active =false;\r\n        this.time=30;\r\n    },\r\n    overGameClick:function(){\r\n        /*\r\n        * button为overGame时下部按钮\r\n        * button2为离开但不退游戏的下部按钮\r\n        * labei：等待玩家显示字\r\n        */\r\n        debugger\r\n        //this.scene(\"gameMain\" , this);\r\n        cc.sys.localStorage.setItem('unOver','true');\r\n        this.button.active = false;\r\n        this.button2.active = false;\r\n        \r\n        this.labei.active = true;\r\n        this.labei2.active = false;\r\n        // this.daojishi();\r\n        // this.labei2.string = '还有'+this.time +'自动解散'\r\n        this.node.dispatchEvent( new cc.Event.EventCustom('overGame', true) );\r\n        debugger\r\n    },\r\n    //继续游戏 发送一个不退出请求\r\n    goonGameClick: function(){\r\n        debugger\r\n        let REFUSE = true;\r\n        var oper = new cc.Event.EventCustom('overGame', true) ;\r\n        oper.setUserData(REFUSE) ;\r\n        this.node.dispatchEvent( oper );\r\n        let mj = cc.find('Canvas').getComponent('MajiangDataBind')\r\n        let dialog = cc.find(\"Canvas/isover\") ;\r\n        mj.alert.put(dialog);\r\n        // dailog.destroy();\r\n\r\n        //alert();\r\n        debugger\r\n    },\r\n    dontLeaveGameClick: function(){\r\n        let mj = cc.find('Canvas').getComponent('MajiangDataBind')        \r\n        let dialog = cc.find(\"Canvas/isleave\") ;\r\n        dialog.destroy();\r\n    },\r\n    leaveGameClick:function(){\r\n        cc.sys.localStorage.setItem('dis','true');        \r\n        this.disconnect();\r\n        if(cc.weijifen.GameBase.gameModel=='wz'){\r\n            this.scene(\"温州\" , this) ;\r\n        }else{\r\n            this.scene(\"gameMain\" , this);\r\n        }\r\n        this.node.dispatchEvent( new cc.Event.EventCustom('leaveGame', true) );\r\n    },\r\n    daojishi: function(){\r\n        this.time =this.time-1;\r\n        if(this.labei2){\r\n            this.labei2.getComponent(cc.Label).string = this.time;\r\n            console.log(this.time);\r\n        }\r\n    }\r\n       \r\n    // setting:function(){\r\n\r\n    //     let mjdata = cc.find('Canvas').getComponent('MajiangDataBind');\r\n    //     var action = cc.moveTo(0.5,336,274);\r\n    //     mjdata.setting_coin.runAction(action);\r\n    //     this.node.dispatchEvent( new cc.Event.EventCustom('settingclick', true) );\r\n        \r\n    // }\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}