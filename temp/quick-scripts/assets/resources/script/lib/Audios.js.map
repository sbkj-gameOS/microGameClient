{"version":3,"sources":["Audios.js"],"names":["cc","Class","extends","Component","properties","bgAudioID","init","game","on","EVENT_HIDE","audioEngine","pauseAll","EVENT_SHOW","sys","localStorage","getItem","resumeAll","_getUrl","url","raw","playBGM","audioUrl","stop","play","bgVolume","playSFX","getUrl","deskVolume","audioId","getState"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAU,CAAC,CADH,CACgB;AADhB,KAHP;;AAOL;AACAC,UAAM,gBAAY;AACdN,WAAGO,IAAH,CAAQC,EAAR,CAAWR,GAAGO,IAAH,CAAQE,UAAnB,EAA+B,YAAY;AACvCT,eAAGU,WAAH,CAAeC,QAAf;AACH,SAFD;AAGAX,WAAGO,IAAH,CAAQC,EAAR,CAAWR,GAAGO,IAAH,CAAQK,UAAnB,EAA+B,YAAY;AACvC,gBAAGZ,GAAGa,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,KAAwC,MAA3C,EAAkD;AAC9Cf,mBAAGU,WAAH,CAAeM,SAAf;AACH;AACJ,SAJD;AAKH,KAjBI;AAkBLC,aAAQ,iBAASC,GAAT,EAAa;AACjB,eAAOlB,GAAGkB,GAAH,CAAOC,GAAP,CAAW,sBAAsBD,GAAjC,CAAP;AACH,KApBI;AAqBLE,WArBK,mBAqBGF,GArBH,EAqBO;AACR,YAAIG,WAAW,KAAKJ,OAAL,CAAaC,GAAb,CAAf;AACA,YAAG,KAAKb,SAAL,IAAkB,CAArB,EAAuB;AACnBL,eAAGU,WAAH,CAAeY,IAAf,CAAoB,KAAKjB,SAAzB;AACH;AACD,aAAKA,SAAL,GAAiBL,GAAGU,WAAH,CAAea,IAAf,CAAoBF,QAApB,EAA6B,IAA7B,EAAkC,KAAKG,QAAvC,CAAjB;AACH,KA3BI;AA4BLC,WA5BK,mBA4BGP,GA5BH,EA4BO;AACR,YAAIG,WAAW,KAAKK,MAAL,CAAYR,GAAZ,CAAf;AACA,YAAG,KAAKS,UAAL,GAAkB,CAArB,EAAuB;AACnB,gBAAIC,UAAU5B,GAAGU,WAAH,CAAea,IAAf,CAAoBF,QAApB,EAA6B,KAA7B,EAAmC,KAAKM,UAAxC,CAAd;AACH;AACJ,KAjCI;;AAkCLE,cAAS,oBAAU;AACf,eAAO7B,GAAGU,WAAH,CAAemB,QAAf,CAAwB,KAAKxB,SAA7B,CAAP;AACH,KApCI;AAqCLM,cAAS,oBAAU;AACfX,WAAGU,WAAH,CAAeC,QAAf;AACH,KAvCI;AAwCLK,eAAU,qBAAU;AAChBhB,WAAGU,WAAH,CAAeM,SAAf;AACH;AA1CI,CAAT","file":"Audios.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\resources\\script\\lib","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: { \r\n        bgAudioID:-1            //   背景 音乐  id\r\n    },\r\n\r\n    // use this for initialization\r\n    init: function () {\r\n        cc.game.on(cc.game.EVENT_HIDE, function () {\r\n            cc.audioEngine.pauseAll();\r\n        });\r\n        cc.game.on(cc.game.EVENT_SHOW, function () {\r\n            if(cc.sys.localStorage.getItem('nobgm') != 'true'){\r\n                cc.audioEngine.resumeAll();\r\n            }  \r\n        });\r\n    },  \r\n    _getUrl:function(url){\r\n        return cc.url.raw(\"resources/sounds/\" + url);\r\n    },\r\n    playBGM(url){\r\n        var audioUrl = this._getUrl(url);\r\n        if(this.bgAudioID >= 0){\r\n            cc.audioEngine.stop(this.bgAudioID);\r\n        }\r\n        this.bgAudioID = cc.audioEngine.play(audioUrl,true,this.bgVolume);\r\n    },\r\n    playSFX(url){\r\n        var audioUrl = this.getUrl(url);\r\n        if(this.deskVolume > 0){\r\n            var audioId = cc.audioEngine.play(audioUrl,false,this.deskVolume);    \r\n        }\r\n    },\r\n    getState:function(){\r\n        return cc.audioEngine.getState(this.bgAudioID);\r\n    },\r\n    pauseAll:function(){\r\n        cc.audioEngine.pauseAll();\r\n    },\r\n    resumeAll:function(){\r\n        cc.audioEngine.resumeAll();\r\n    }\r\n});\r\n"]}