{"version":3,"sources":["endUserInfo.js"],"names":["cc","Class","extends","Component","properties","dianpao","Node","dayingjia","username","Label","myself","totalcount","huCount","dianCount","touchBao","bankerCount","bk","yinse","SpriteFrame","yintiao","headimgs","onLoad","init","player","find","getComponent","playersarray","userInfo","data","headimg","console","log","string","pointCount","i","length","pl","id","user","headimgurl","weijifen","active","Sprite","spriteFrame","dyj","dp","imgurl","sprite","head","loader","load","url","type","suc","texture","width","height","setData"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,iBAASL,GAAGM,IAXJ;AAYRC,mBAAWP,GAAGM,IAZN;AAaRE,kBAAWR,GAAGS,KAbN;AAcRC,gBAAQV,GAAGM,IAdH;AAeRK,oBAAYX,GAAGS,KAfP;;AAiBRG,iBAASZ,GAAGS,KAjBJ;AAkBRI,mBAAWb,GAAGS,KAlBN;AAmBRK,kBAAUd,GAAGS,KAnBL;AAoBRM,qBAAaf,GAAGS,KApBR;AAqBRO,YAAGhB,GAAGM,IArBE;AAsBRW,eAAOjB,GAAGkB,WAtBF;AAuBRC,iBAASnB,GAAGkB,WAvBJ;AAwBRE,kBAASpB,GAAGM;AAxBJ,KAHP;;AA8BL;AACAe,YAAQ,kBAAY,CACnB,CAhCI;AAiCLC,UAAK,gBAAU;;AAEX,YAAIC,SAASvB,GAAGwB,IAAH,CAAQ,QAAR,EAAkBC,YAAlB,CAA+B,YAA/B,EAA6CC,YAA1D;AACA,YAAIC,WAAW,KAAKC,IAApB;AACA,YAAIC,gBAAJ;AACAC,gBAAQC,GAAR,CAAY,KAAKH,IAAjB;AACA,aAAKhB,OAAL,CAAaoB,MAAb,GAAsBL,SAASf,OAA/B;AACA,aAAKC,SAAL,CAAemB,MAAf,GAAwBL,SAASd,SAAjC;AACA,aAAKC,QAAL,CAAckB,MAAd,GAAuBL,SAASb,QAAhC;AACA,aAAKC,WAAL,CAAiBiB,MAAjB,GAA0BL,SAASZ,WAAnC;AACA,aAAKJ,UAAL,CAAgBqB,MAAhB,GAAyB,QAAML,SAASM,UAAxC;AACA,aAAI,IAAIC,IAAI,CAAZ,EAAcA,IAAEX,OAAOY,MAAvB,EAA8BD,GAA9B,EAAkC;AAC9B,gBAAIE,KAAKb,OAAOW,CAAP,EAAUT,YAAV,CAAuB,eAAvB,CAAT;AACA,gBAAGW,GAAGR,IAAH,CAAQS,EAAR,IAAc,KAAKT,IAAL,CAAUU,IAA3B,EAAgC;AAC5BT,0BAAUO,GAAGR,IAAH,CAAQW,UAAlB;AACA,qBAAK/B,QAAL,CAAcwB,MAAd,GAAuBI,GAAGR,IAAH,CAAQpB,QAA/B;AACH;AACD,gBAAG,KAAKoB,IAAL,CAAUU,IAAV,IAAkBtC,GAAGwC,QAAH,CAAYF,IAAZ,CAAiBD,EAAtC,EAAyC;AACrC,qBAAK3B,MAAL,CAAY+B,MAAZ,GAAqB,IAArB;AACH;AACJ;AACD;AACA,YAAGd,SAASM,UAAT,GAAoB,CAAvB,EAAyB;AACrB,iBAAKjB,EAAL,CAAQS,YAAR,CAAqBzB,GAAG0C,MAAxB,EAAgCC,WAAhC,GAA8C,KAAK1B,KAAnD;AACA;AACA;AACA;AACA;AAEH;AACD;AACA,YAAG,KAAK2B,GAAR,EAAY;AACR,iBAAKrC,SAAL,CAAekC,MAAf,GAAwB,IAAxB;AACH;AACD;AACA,YAAG,KAAKI,EAAL,IAAS,CAAC,KAAKD,GAAlB,EAAsB;AAClB,iBAAKvC,OAAL,CAAaoC,MAAb,GAAqB,IAArB;AACH;AACD;AACA,YAAGZ,OAAH,EAAW;AACP,gBAAIiB,SAASjB,OAAb;AACA,gBAAIkB,SAAS,KAAK3B,QAAL,CAAcK,YAAd,CAA2BzB,GAAG0C,MAA9B,CAAb;AACA,gBAAIM,OAAO,KAAK5B,QAAhB;AACApB,eAAGiD,MAAH,CAAUC,IAAV,CAAe,EAACC,KAAIL,MAAL,EAAYM,MAAK,KAAjB,EAAf,EAAuC,UAASC,GAAT,EAAaC,OAAb,EAAqB;AACxDP,uBAAOJ,WAAP,GAAqB,IAAI3C,GAAGkB,WAAP,CAAmBoC,OAAnB,CAArB;AACAN,qBAAKO,KAAL,GAAa,EAAb;AACAP,qBAAKQ,MAAL,GAAc,EAAd;AACH,aAJD;AAKH;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIC,KA5GI;AA6GL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAC,aAAQ,iBAAS7B,IAAT,EAAcrB,SAAd,EAAwBF,OAAxB,EAAgC;AACpC,aAAKuB,IAAL,GAAYA,IAAZ;AACA,aAAKgB,GAAL,GAAWrC,SAAX;AACA,aAAKsC,EAAL,GAAUxC,OAAV;AACA,aAAKiB,IAAL;AACH;AACD;AACA;;AAEA;AAhIK,CAAT","file":"endUserInfo.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\module\\majiang\\js\\gameOver","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        dianpao: cc.Node,\r\n        dayingjia: cc.Node,\r\n        username : cc.Label,\r\n        myself: cc.Node,\r\n        totalcount: cc.Label,\r\n        \r\n        huCount: cc.Label,\r\n        dianCount: cc.Label,\r\n        touchBao: cc.Label,\r\n        bankerCount :cc.Label,\r\n        bk:cc.Node,\r\n        yinse: cc.SpriteFrame,\r\n        yintiao: cc.SpriteFrame,\r\n        headimgs:cc.Node,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n    },\r\n    init:function(){\r\n        \r\n        let player = cc.find('Canvas').getComponent('MJDataBind').playersarray;\r\n        let userInfo = this.data;\r\n        let headimg;\r\n        console.log(this.data)\r\n        this.huCount.string = userInfo.huCount;\r\n        this.dianCount.string = userInfo.dianCount;\r\n        this.touchBao.string = userInfo.touchBao;\r\n        this.bankerCount.string = userInfo.bankerCount;\r\n        this.totalcount.string = '总分：'+userInfo.pointCount;\r\n        for(let i = 0;i<player.length;i++){\r\n            let pl = player[i].getComponent('MaJiangPlayer');\r\n            if(pl.data.id == this.data.user){\r\n                headimg = pl.data.headimgurl;\r\n                this.username.string = pl.data.username;\r\n            }\r\n            if(this.data.user == cc.weijifen.user.id){\r\n                this.myself.active = true;\r\n            }\r\n        }\r\n        //如果分数低于0的时候就是银色的框\r\n        if(userInfo.pointCount<0){\r\n            this.bk.getComponent(cc.Sprite).spriteFrame = this.yinse;\r\n            // this.huCount.node.parent.getComponent(cc.Sprite).spriteFrame = this.yintiao;\r\n            // this.dianCount.node.parent.getComponent(cc.Sprite).spriteFrame = this.yintiao;\r\n            // this.touchBao.node.parent.getComponent(cc.Sprite).spriteFrame = this.yintiao;            \r\n            // this.bankerCount.node.parent.getComponent(cc.Sprite).spriteFrame = this.yintiao;\r\n\r\n        }\r\n        //这个值代表大赢家\r\n        if(this.dyj){\r\n            this.dayingjia.active = true;\r\n        }\r\n        //大赢家和点炮不能同时出现  这个是点炮高手\r\n        if(this.dp&&!this.dyj){\r\n            this.dianpao.active =true;\r\n        }\r\n        //头像\r\n        if(headimg){\r\n            var imgurl = headimg;\r\n            var sprite = this.headimgs.getComponent(cc.Sprite);\r\n            var head = this.headimgs;\r\n            cc.loader.load({url:imgurl,type:'jpg'},function(suc,texture){\r\n                sprite.spriteFrame = new cc.SpriteFrame(texture);\r\n                head.width = 90;\r\n                head.height = 90;\r\n            });\r\n        }\r\n    //     this.username.string = userInfo.userName;\r\n    //     if(userInfo.cur != 'true' ){\r\n    //         this.myself.active = false;\r\n    //         this.bk.color = new cc.Color(213,197,197);\r\n    //    }\r\n    //    if(userInfo.balance){\r\n    //     for(let i = 0; i<userInfo.balance.units.length;i++){\r\n    //         var gang = cc.instantiate(this.loyou);\r\n    //         this.updateItem(userInfo.balance.units[i]);\r\n    //         gang.parent = this.content ;\r\n    //     }\r\n        \r\n    // }\r\n        \r\n    //     console.log(userInfo.cur);\r\n    //     if(userInfo.gang){\r\n    //         for(let i = 0; i<userInfo.gang.units.length;i++){\r\n    //             //bei += userInfo.gang.details[i].point\r\n    //             var gang = cc.instantiate(this.loyou);\r\n    //             this.updateItem(userInfo.gang.units[i]);\r\n    //             gang.parent = this.content;\r\n    //         }      \r\n    //     };\r\n        \r\n        \r\n\r\n    },\r\n    // updateItem:function(data){\r\n    //     this.label1.string = data.type;\r\n    //     this.label2.string = data.tip;\r\n    //     this.label3.string = data.point;\r\n    //     this.label1.node.height = 40;\r\n    //     this.label2.node.height = 40;\r\n    //     this.label3.node.height = 40;\r\n    //     //this.label3.string = data.count;\r\n    // },\r\n \r\n    setData:function(data,dayingjia,dianpao){\r\n        this.data = data ; \r\n        this.dyj = dayingjia;\r\n        this.dp = dianpao;\r\n        this.init();\r\n    }\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}