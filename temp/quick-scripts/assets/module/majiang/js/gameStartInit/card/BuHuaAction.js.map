{"version":3,"sources":["BuHuaAction.js"],"names":["cc","Class","extends","Component","properties","weijifen0","default","type","SpriteAtlas","target","Node","b_chun","SpriteFrame","b_ju","b_lan","b_xia","b_zhu","hua","onLoad","init","cvalue","fangwei","dd","cardcolor","value","deskcard","cardframe","cardcolors","parseInt","csType1","csType2","csCardColors1","csCardColors2","csValue1","csValue2","weijifen","powerCard","length","fw","getSpriteFrame","getComponent","Sprite","spriteFrame","caishenCards","active","zIndex","sys","localStorage","getItem","children"],"mappings":"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","file":"BuHuaAction.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\assets\\module\\majiang\\js\\gameStartInit\\card","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        weijifen0: {\n            default: null,\n            type: cc.SpriteAtlas\n        },\n        target:{\n            default: null,\n            type: cc.Node\n        },\n        b_chun:{\n            default: null,\n            type: cc.SpriteFrame\n        },\n        b_ju:{\n            default: null,\n            type: cc.SpriteFrame\n        },\n        b_lan:{\n            default: null,\n            type: cc.SpriteFrame\n        },\n        b_xia:{\n            default: null,\n            type: cc.SpriteFrame\n        },\n        b_zhu:{\n            default: null,\n            type: cc.SpriteFrame\n        },\n        hua: cc.Node\n    },\n\n    // use this for initialization\n    onLoad: function () {\n\n    },\n    init:function(cvalue,fangwei,dd){\n        this.cardcolor();                        \n        this.value = cvalue ;\n        this.fangwei = fangwei;\n\n        var deskcard , cardframe ;\n        let cardcolors = parseInt(this.value/4 );\n        let csType1,csType2;\n        let csCardColors1,csCardColors2;\n        let csValue1,csValue2;\n        if(cc.weijifen.powerCard){\n            csCardColors1 = parseInt(cc.weijifen.powerCard[0]/4 );\n            csType1 = parseInt(csCardColors1 / 9);//第一张财神牌类型 \n            csValue1 = (parseInt((cc.weijifen.powerCard[0]%36)/4)+1);\n            if(cc.weijifen.powerCard.length == 2){\n                csCardColors2 = parseInt(cc.weijifen.powerCard[1]/4 );\n                csType2 = parseInt(csCardColors2 / 9);//第二张财神牌类型\n                csValue2 = (parseInt((cc.weijifen.powerCard[1]%36)/4)+1);\n            }\n        }\n\n        \n        //确定牌的花色\n        var  fw = 'B';\n        if(fangwei == 'left'){\n            fw = 'L';\n        }else if(fangwei == 'right'){\n            fw = 'R'\n        }\n        if(fw == 'B'){\n            if(cvalue==-38){\n                deskcard = fw+'_autumn';//秋\n                cardframe = this.weijifen0.getSpriteFrame(deskcard);\n                this.target.getComponent(cc.Sprite).spriteFrame = cardframe;\n            } else if(cvalue==-35){\n                deskcard = this.b_zhu;//竹\n                this.target.getComponent(cc.Sprite).spriteFrame = deskcard;\n            } else if(cvalue==-34){\n                deskcard = this.b_ju;//菊\n                this.target.getComponent(cc.Sprite).spriteFrame = deskcard;\n            } else if(cvalue==-33){\n                deskcard = this.b_lan;//兰\n                this.target.getComponent(cc.Sprite).spriteFrame = deskcard;\n            } else if(cvalue == -32){\n                deskcard = fw+'_plum';//梅\n                cardframe = this.weijifen0.getSpriteFrame(deskcard);\n                this.target.getComponent(cc.Sprite).spriteFrame = cardframe;\n            }else if(cvalue == -36){\n                deskcard = this.b_chun;//春\n                this.target.getComponent(cc.Sprite).spriteFrame = deskcard;\n            }else if(cvalue == -37){\n                deskcard = this.b_xia;//夏\n                this.target.getComponent(cc.Sprite).spriteFrame = deskcard;\n            }else if(cvalue == -39){\n                deskcard = fw+'_winter';//冬\n                cardframe = this.weijifen0.getSpriteFrame(deskcard);\n                this.target.getComponent(cc.Sprite).spriteFrame = cardframe;\n            } \n            if(dd&&(cardcolors == csCardColors1 || (csCardColors2!=null &&cardcolors == csCardColors2)||(this.value>=-39&&this.value<=-36))){\n                this.caishenCards();\n            }\n        }else{\n            if(cvalue==-38){\n                deskcard = fw+'_autumn';//秋\n            } else if(cvalue==-35){\n                deskcard = fw+'_bamboo';//竹\n            } else if(cvalue==-34){\n                deskcard = fw+'_chrysanthemum';//菊\n            } else if(cvalue==-33){\n                deskcard = fw+'_orchid';//兰\n            } else if(cvalue == -32){\n                deskcard = fw+'_plum';//梅\n            }else if(cvalue == -36){\n                deskcard = fw+'_spring';//春\n            }else if(cvalue == -37){\n                deskcard = fw+'_summer';//夏\n            }else if(cvalue == -39){\n                deskcard = fw+'_winter';//冬\n            }else if(cvalue <= -4||cvalue >= -7){\n                deskcard = fw+'_white';//白\n            }\n            \n            cardframe = this.weijifen0.getSpriteFrame(deskcard);\n            this.target.getComponent(cc.Sprite).spriteFrame = cardframe;\n        }\n    },\n\n    caishenCards: function(){\n        this.hua.active = true;\n        this.target.zIndex = -999+this.value;\n    },\n    cardcolor:function(){\n        if(cc.sys.localStorage.getItem('cardcolor')=='yellow'){\n            this.target.children[0].active = false;\n            this.target.children[1].active = false;\n        }else if(cc.sys.localStorage.getItem('cardcolor')=='green'){\n            this.target.children[0].active = true;\n            this.target.children[1].active = false;\n        }else if(cc.sys.localStorage.getItem('cardcolor')=='red'){\n            this.target.children[0].active = false;\n            this.target.children[1].active = true;\n        }\n    }, \n});\n"]}